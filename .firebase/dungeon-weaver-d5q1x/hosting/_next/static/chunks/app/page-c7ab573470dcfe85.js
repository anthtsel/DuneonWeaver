(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2751:(e,t,s)=>{Promise.resolve().then(s.bind(s,4331))},4331:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ei});var r=s(5155),a=s(2115),l=s(4601),n=s(1859),i=s(8098),d=s(5731),c=s(9829),o=s(5554),m=s(7374),x=s(1550),u=s(1816),f=s(172),h=s(9968),p=s(3638),g=s(9708),v=s(2085),j=s(9434);let b=(0,v.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:n=!1,...i}=e,d=n?g.DX:"button";return(0,r.jsx)(d,{className:(0,j.cn)(b({variant:a,size:l,className:s})),ref:t,...i})});N.displayName="Button";let y=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,j.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});y.displayName="Input";let w=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,j.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});w.displayName="Card";let S=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,j.cn)("flex flex-col space-y-1.5 p-6",s),...a})});S.displayName="CardHeader";let A=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,j.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});A.displayName="CardTitle";let k=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,j.cn)("text-sm text-muted-foreground",s),...a})});k.displayName="CardDescription";let I=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,j.cn)("p-6 pt-0",s),...a})});I.displayName="CardContent";let T=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,j.cn)("flex items-center p-6 pt-0",s),...a})});T.displayName="CardFooter";var C=s(9051);let R=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(C.bL,{ref:t,className:(0,j.cn)("relative overflow-hidden",s),...l,children:[(0,r.jsx)(C.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(E,{}),(0,r.jsx)(C.OK,{})]})});R.displayName=C.bL.displayName;let E=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,r.jsx)(C.VM,{ref:t,orientation:a,className:(0,j.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,r.jsx)(C.lr,{className:"relative flex-1 rounded-full bg-border"})})});E.displayName=C.VM.displayName;var O=s(7481),D=s(4477);let _=(0,D.createServerReference)("40a20564694af50e9ed2795691f9101dd537b14a9f",D.callServer,void 0,D.findSourceMapURL,"generateInitialScene"),z=(0,D.createServerReference)("40a2ed6788e6805f3616376410c9f0a0012b5e1f35",D.callServer,void 0,D.findSourceMapURL,"narrateAction"),F=(0,v.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function M(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,j.cn)(F({variant:s}),t),...a})}var L=s(3343),V=s(3170),P=s(7648),U=s(8328),Y=s(960),q=s(7489);let H=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:l=!0,...n}=e;return(0,r.jsx)(q.b,{ref:t,decorative:l,orientation:a,className:(0,j.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...n})});H.displayName=q.b.displayName;var W=s(3478),J=s(9556);let G=W.bL,K=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(W.q7,{ref:t,className:(0,j.cn)("border-b",s),...a})});K.displayName="AccordionItem";let X=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsx)(W.Y9,{className:"flex",children:(0,r.jsxs)(W.l9,{ref:t,className:(0,j.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...l,children:[a,(0,r.jsx)(J.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});X.displayName=W.l9.displayName;let B=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsx)(W.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,r.jsx)("div",{className:(0,j.cn)("pb-4 pt-0",s),children:a})})});B.displayName=W.UC.displayName;let Q={health:0,strength:0,agility:0,intelligence:0};function $(e){let{runs:t}=e;return 0===t.length?(0,r.jsxs)(w,{className:"mt-8 shadow-lg border-accent/10 bg-card",children:[(0,r.jsx)(S,{children:(0,r.jsxs)(A,{className:"text-2xl text-accent flex items-center",children:[(0,r.jsx)(P.A,{className:"mr-3 h-6 w-6"})," Past Adventures"]})}),(0,r.jsx)(I,{children:(0,r.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No past adventures recorded yet. Embark on your first quest!"})})]}):(0,r.jsxs)(w,{className:"mt-8 shadow-lg border-accent/10 bg-card",children:[(0,r.jsxs)(S,{children:[(0,r.jsxs)(A,{className:"text-2xl text-accent flex items-center",children:[(0,r.jsx)(P.A,{className:"mr-3 h-6 w-6"})," Past Adventures"]}),(0,r.jsx)(k,{children:"Review your previous journeys through the dungeon."})]}),(0,r.jsx)(I,{children:(0,r.jsxs)(R,{className:"h-[400px] pr-2",children:[" ",(0,r.jsx)("div",{className:"space-y-4",children:t.slice().reverse().map(e=>{let s=(0,L.H)(e.startTime),a=(0,L.H)(e.endTime),l="N/A";try{l=(0,V.k)(a,s)}catch(t){console.warn("Error formatting date for run:",e.id,t)}let u=e.finalCharacterStats||Q;return(0,r.jsxs)(w,{className:"bg-background/50 border-border hover:shadow-md transition-shadow",children:[(0,r.jsxs)(S,{className:"pb-3 pt-4 px-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)(A,{className:"text-lg text-foreground/90",children:["Adventure Log #",t.length-t.indexOf(e)]}),(0,r.jsx)(M,{variant:"win"===e.status?"default":"destructive",className:"capitalize text-xs px-2 py-0.5",children:e.status})]}),(0,r.jsxs)(k,{className:"text-xs text-muted-foreground flex items-center pt-1",children:[(0,r.jsx)(U.A,{className:"h-3 w-3 mr-1.5"})," ",s.toLocaleDateString()," ",s.toLocaleTimeString()]})]}),(0,r.jsxs)(I,{className:"px-4 pb-3 text-sm",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center text-muted-foreground",children:[(0,r.jsx)(P.A,{className:"h-4 w-4 mr-2 shrink-0"}),(0,r.jsxs)("span",{children:["Duration: ",l]})]}),(0,r.jsxs)("div",{className:"flex items-center text-muted-foreground",children:[(0,r.jsx)(Y.A,{className:"h-4 w-4 mr-2 shrink-0"}),(0,r.jsxs)("span",{children:["Turns: ",e.turns]})]})]}),e.finalFeedback&&(0,r.jsxs)("p",{className:"mb-2 text-xs italic text-foreground/70 border-l-2 border-accent/50 pl-2",children:['"',e.finalFeedback,'"']}),(0,r.jsx)(G,{type:"single",collapsible:!0,className:"w-full",children:(0,r.jsxs)(K,{value:"details",className:"border-b-0",children:[(0,r.jsx)(X,{className:"text-xs py-1 hover:no-underline text-muted-foreground",children:"View Final Stats & Items"}),(0,r.jsxs)(B,{className:"pt-2 space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-xs font-semibold text-foreground/80 mb-1 flex items-center",children:[(0,r.jsx)(n.A,{className:"mr-1.5 h-3 w-3"}),"Final Stats:"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-3 gap-y-0.5 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)(i.A,{className:"inline mr-1 h-3 w-3 text-red-500"}),"H: ",u.health]}),(0,r.jsxs)("span",{children:[(0,r.jsx)(d.A,{className:"inline mr-1 h-3 w-3 text-blue-500"}),"S: ",u.strength]}),(0,r.jsxs)("span",{children:[(0,r.jsx)(c.A,{className:"inline mr-1 h-3 w-3 text-yellow-500"}),"A: ",u.agility]}),(0,r.jsxs)("span",{children:[(0,r.jsx)(o.A,{className:"inline mr-1 h-3 w-3 text-purple-500"}),"I: ",u.intelligence]})]})]}),(0,r.jsx)(H,{className:"my-1"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-xs font-semibold text-foreground/80 mb-1 flex items-center",children:[(0,r.jsx)(m.A,{className:"mr-1.5 h-3 w-3"}),"Final Inventory:"]}),e.finalInventory&&e.finalInventory.length>0?(0,r.jsx)("ul",{className:"list-disc list-inside space-y-0.5 text-xs text-muted-foreground",children:e.finalInventory.map((e,t)=>(0,r.jsx)("li",{className:"capitalize",children:e},"inv-".concat(t)))}):(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"None"})]}),(0,r.jsx)(H,{className:"my-1"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-xs font-semibold text-foreground/80 mb-1 flex items-center",children:[(0,r.jsx)(x.A,{className:"mr-1.5 h-3 w-3"}),"Final Skills:"]}),e.finalSkills&&e.finalSkills.length>0?(0,r.jsx)("ul",{className:"list-disc list-inside space-y-0.5 text-xs text-muted-foreground",children:e.finalSkills.map((e,t)=>(0,r.jsx)("li",{className:"capitalize",children:e},"skill-".concat(t)))}):(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"None"})]})]})]})})]})]},e.id)})})]})})]})}var Z=s(1764);let ee=Z.Kq,et=Z.bL,es=Z.l9,er=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...l}=e;return(0,r.jsx)(Z.UC,{ref:t,sideOffset:a,className:(0,j.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})});er.displayName=Z.UC.displayName;let ea="The adventurer stands at the entrance of a long-forgotten dungeon, rumored to hold immense treasures and equally great dangers. The air is heavy with the scent of dust and decay.",el="dungeonWeaverRuns",en={health:100,strength:10,agility:10,intelligence:10};function ei(){let[e,t]=a.useState([]),[s,g]=a.useState(""),[v,j]=a.useState(!0),[b,k]=a.useState(null),{toast:C}=(0,O.dj)(),E=a.useRef(null),[D,F]=a.useState(!1),[L,V]=a.useState(null),[P,U]=a.useState(0),[Y,q]=a.useState(null),[W,J]=a.useState(null),[G,K]=a.useState([]),[X,B]=a.useState([]),[Q,Z]=a.useState(en),[ei,ed]=a.useState([]),ec=a.useRef("");a.useEffect(()=>{var e;null===(e=E.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e,Y]);let eo=a.useCallback(async()=>{j(!0),k(null),t([]),g(""),F(!1),V(null),U(0),q(null),J(null),K([]),B([]),Z(en);try{ec.current=new Date().toISOString();let e=await _({prompt:ea});t([e.sceneDescription]),U(1)}catch(e){console.error("Error starting game:",e),k("Failed to start the adventure. Please refresh and try again."),C({title:"Error",description:"Could not generate the initial scene.",variant:"destructive"})}finally{j(!1)}},[C]);a.useEffect(()=>{eo();try{let e=JSON.parse(localStorage.getItem(el)||"[]");ed(e)}catch(e){console.error("Failed to load runs from localStorage:",e),C({title:"Load Error",description:"Could not load past adventures.",variant:"destructive"})}},[eo,C]);let em=async r=>{if(r.preventDefault(),!s.trim()||v||D)return;let a=s.trim();g(""),j(!0),k(null),q(null);try{let s=e.length>0?e[e.length-1]:ea,r=await z({action:a,previousNarrative:s,inventory:G,skills:X,characterStats:Q,turnCount:P});t(e=>[...e,r.narrative]);let l=P+1;if(U(l),r.feedback&&q(r.feedback),r.updatedInventory&&K(r.updatedInventory),r.updatedSkills&&B(r.updatedSkills),r.updatedCharacterStats&&Z(r.updatedCharacterStats),r.gameOver){let t="win"===r.gameStatus||"loss"===r.gameStatus?r.gameStatus:"loss";F(!0),V(t),J(r.feedback||null);let s=new Date().toISOString(),a={id:ec.current+"-"+s,startTime:ec.current,endTime:s,narratives:[...e,r.narrative],status:t,turns:l,finalFeedback:r.feedback||void 0,finalInventory:r.updatedInventory||G,finalSkills:r.updatedSkills||X,finalCharacterStats:r.updatedCharacterStats||Q};try{let e=JSON.parse(localStorage.getItem(el)||"[]");localStorage.setItem(el,JSON.stringify([...e,a])),ed(e=>[...e,a])}catch(e){console.error("Failed to save run to localStorage:",e),C({title:"Save Error",description:"Could not save your game progress locally.",variant:"destructive"})}C({title:"win"===t?"Victory!":"Defeat!",description:r.feedback||("win"===t?"You have conquered the dungeon!":"Your adventure ends here."),variant:"win"===t?"default":"destructive",duration:7e3})}}catch(e){console.error("Error narrating action:",e),k("The Dungeon Master seems confused. Try a different action."),C({title:"Error",description:"Could not process your action.",variant:"destructive"}),g(a)}finally{j(!1)}};return(0,r.jsx)(ee,{children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row items-start justify-center min-h-screen bg-background text-foreground p-4 md:p-8 font-serif gap-6",children:[(0,r.jsxs)(w,{className:"shadow-lg w-full lg:w-1/3 lg:max-w-sm border-accent/20 sticky top-8 self-start max-h-[calc(100vh-3rem)] md:max-h-[calc(100vh-4rem)] overflow-y-auto",children:[(0,r.jsx)(S,{className:"border-b border-border p-4",children:(0,r.jsxs)(A,{className:"text-2xl text-accent flex items-center",children:[(0,r.jsx)(l.A,{className:"mr-2 h-6 w-6"})," Adventurer's Log"]})}),(0,r.jsxs)(I,{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-foreground/90 mb-2 flex items-center",children:[(0,r.jsx)(n.A,{className:"mr-2 h-5 w-5 text-primary"}),"Character Stats"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4 text-red-500"})," Health: ",Q.health]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4 text-blue-500"})," Strength: ",Q.strength]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4 text-yellow-500"})," Agility: ",Q.agility]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4 text-purple-500"})," Intelligence: ",Q.intelligence]})]})]}),(0,r.jsx)(H,{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-foreground/90 mb-2 flex items-center",children:[(0,r.jsx)(m.A,{className:"mr-2 h-5 w-5 text-primary"}),"Inventory"]}),G.length>0?(0,r.jsx)(R,{className:"h-24",children:(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:G.map((e,t)=>(0,r.jsx)("li",{className:"capitalize",children:e},t))})}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"Your pack is empty."})]}),(0,r.jsx)(H,{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-foreground/90 mb-2 flex items-center",children:[(0,r.jsx)(x.A,{className:"mr-2 h-5 w-5 text-primary"}),"Skills"]}),X.length>0?(0,r.jsx)(R,{className:"h-24",children:(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:X.map((e,t)=>(0,r.jsx)("li",{className:"capitalize",children:e},t))})}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"You have no special skills yet."})]})]})]}),(0,r.jsxs)("main",{className:"w-full lg:w-2/3 flex-grow flex flex-col",children:[(0,r.jsxs)(w,{className:"shadow-2xl w-full h-full flex flex-col border-accent/20",children:[(0,r.jsxs)(S,{className:"flex flex-row items-center justify-between border-b border-border p-4",children:[(0,r.jsx)(A,{className:"text-3xl font-bold text-accent",children:"Dungeon Weaver"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[!D&&P>0&&(0,r.jsxs)(et,{children:[(0,r.jsx)(es,{asChild:!0,children:(0,r.jsxs)(M,{variant:"secondary",className:"text-sm font-mono",children:["Turn: ",P]})}),(0,r.jsx)(er,{children:(0,r.jsx)("p",{children:"Current turn in your adventure."})})]}),(0,r.jsx)(u.A,{className:"h-8 w-8 text-accent","data-ai-hint":"fantasy weapon"})]})]}),(0,r.jsx)(I,{className:"flex-grow overflow-hidden p-0",children:(0,r.jsxs)(R,{className:"h-[450px] md:h-[500px] w-full p-6 bg-background",children:[" ",e.map((e,t)=>(0,r.jsx)("p",{className:"mb-4 animate-fadeIn text-lg leading-relaxed text-foreground/90",children:e},t)),Y&&!D&&(0,r.jsxs)("p",{className:"mb-4 animate-fadeIn text-md italic text-accent/90",children:["DM: ",Y]}),(0,r.jsx)("div",{ref:E}),v&&0===e.length&&(0,r.jsxs)("div",{className:"flex items-center justify-center text-muted-foreground mt-4 h-full",children:[(0,r.jsx)(f.A,{className:"mr-2 h-8 w-8 animate-spin text-accent"}),(0,r.jsx)("span",{children:"Crafting your epic..."})]}),v&&e.length>0&&!D&&(0,r.jsxs)("div",{className:"flex items-center text-muted-foreground mt-4 animate-fadeIn",children:[(0,r.jsx)(f.A,{className:"mr-2 h-5 w-5 animate-spin text-accent"}),(0,r.jsx)("span",{children:"The Dungeon Master is pondering..."})]})]})}),D?(0,r.jsx)(T,{className:"p-4 border-t border-border flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center animate-fadeIn",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2 ".concat("win"===L?"text-primary":"text-destructive"),children:"win"===L?"You are Victorious!":"Game Over!"}),W&&(0,r.jsx)("p",{className:"text-muted-foreground mb-4 italic",children:W}),(0,r.jsxs)("p",{className:"text-muted-foreground mb-4",children:["Total turns: ",P]}),(0,r.jsxs)(N,{onClick:()=>{eo()},variant:"default",size:"lg",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Play Again?"]})]})}):(0,r.jsx)(T,{className:"p-4 border-t border-border",children:(0,r.jsxs)("form",{onSubmit:em,className:"flex w-full items-center gap-3",children:[(0,r.jsx)(y,{type:"text",value:s,onChange:e=>g(e.target.value),placeholder:"What path will you choose?",className:"flex-grow text-base bg-card text-card-foreground placeholder:text-muted-foreground focus:ring-accent",disabled:v||D,"aria-label":"Player action input"}),(0,r.jsx)(N,{type:"submit",disabled:v||!s.trim()||D,variant:"default",size:"lg",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Wait..."]}):(0,r.jsxs)(r.Fragment,{children:["Act ",(0,r.jsx)(h.A,{className:"ml-2 h-4 w-4"})]})})]})})]}),b&&(0,r.jsx)("p",{className:"mt-4 text-sm text-destructive text-center",children:b}),(0,r.jsx)($,{runs:ei})]})]})})}},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>x});var r=s(2115);let a=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function o(e){c=i(c,e),d.forEach(e=>{e(c)})}function m(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=r.useState(c);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(2596),a=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[725,688,441,684,358],()=>t(2751)),_N_E=e.O()}]);